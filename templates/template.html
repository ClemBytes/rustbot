<!DOCTYPE html>
<html>
<head>
    <title>Just a rustbot ðŸ¦€</title>
    <link rel="icon" href="/static/favicon-16x16.png">
    <link rel="stylesheet" href="/static/template.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Mono&display=swap" rel="stylesheet">
</head>
<body>
    <h1>Welcome to my robot page!</h1>
    <p id="coords">Current coordinates: ({{ rustbot_i }}, {{ rustbot_j }})</p>
    <table id="button-grid">
        <tbody>
            <tr>
                <td></td>
                <td><form action="/up" method="post">
                        <button type="submit" id="up">UP</button>
                    </form>
                </td>
                <td></td>
            </tr>
            <tr>
                <td><form action="/left" method="post">
                        <button type="submit" id="left">LEFT</button>
                    </form>
                </td>
                <td><form action="/reset" method="post">
                        <button type="submit" id="reset">RESET</button>
                    </form>
                </td>
                <td>
                    <form action="/right" method="post">
                        <button type="submit" id="right">RIGHT</button>
                    </form>
                </td>
            </tr>
            <tr>
                <td></td>
                <td>
                    <form action="/down" method="post">
                        <button type="submit" id="down">DOWN</button>
                    </form>
                </td>
                <td></td>
            </tr>
        </tbody>
    </table>

    <p>Change grid size (robot position will be reset to (0, 0)):</p>
    <form id="grid-size" action="/change-max" method="post">
        <label for="change_max_i">Lines (1-20):</label>
        <input type="number" id="change_max_i" name="change_max_i" min="1" max="20" value="{{ grid_max_i }}">
        
        <label id="column-form" for="change_max_j">Columns (1-20):</label>
        <input type="number" id="change_max_j" name="change_max_j" min="1" max="20" value="{{ grid_max_j }}">
        
        <button id="button-form" type="submit">Update</button>
    </form>
    
    <p>Now you can also use the arrow keys (and backspace for reset)!<br>
       You can also click directly on a grid cell to teleport to it!</p>

    <table id="robot-grid">
        <tbody>
        {%- for x in 0..grid_max_i %}
            <tr>
            {%- for y in 0..grid_max_j %}
                {%- if x == rustbot_i && y == rustbot_j %}
                <td data-x='{{ x }}' data-y='{{ y }}'><img src='/static/robot.png' alt='Robot' class='image-responsive'></td>
                {%- else %}
                <td data-x='{{ x }}' data-y='{{ y }}'></td>
                {%- endif %}
            {%- endfor %}
            </tr>
        {%- endfor %}
        </tbody>
    </table>

    <script src="/static/robot.js"></script>
</body>
</html>
